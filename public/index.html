<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport"
          content="width=device-width, initial-scale=1">
    <title>Hello Amaze UI</title>

    <!-- Set render engine for 360 browser -->
    <meta name="renderer" content="webkit">

    <!-- No Baidu Siteapp-->
    <meta http-equiv="Cache-Control" content="no-siteapp"/>

    <link rel="icon" type="image/png" href="assets/i/favicon.png">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@2x.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
    <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="assets/i/app-icon72x72@2x.png">
    <meta name="msapplication-TileColor" content="#0e90d2">

    <link rel="stylesheet" href="assets/css/amazeui.min.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <script src="../node_modules/_dom-to-image@2.6.0@dom-to-image/dist/dom-to-image.min.js"></script>

    <style>
        .input-box {
            position: relative;
        }

        .input-box {
            background-color: #fec930;
        }

        .input-box ul li {
            position: relative;
            background: url(assets/images/input.png) no-repeat;
            background-size: 100%;
            width: 80%;
            margin-top: 10px;
        }

        /*#sex-li {*/
            /*position: relative;*/
            /*background: url(assets/images/sex_women.png) no-repeat;*/
            /*background-size: 100%;*/
            /*width: 80%;*/
            /*margin-top: 10px;*/
        /*}*/

        .input-box ul li input {
            border: none;
            background: rgba(0,0,0,0);
        }

        /*.input-box .input-name {*/
            /*position: absolute;*/
        /*}*/


        .generate {
            position: relative;
            background: url(assets/images/generate.png) no-repeat;
            background-size: 100%;
            margin-top: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body id="body-node">


<div class="am-g bg">
    <img src="assets/images/bg.png" class="am-img-responsive" alt="" style="width:100%;">

    <div class="input-box am-g">
        <ul class="am-avg-sm-1">
            <li class="am-u-sm-12 am-u-sm-centered">
                <div class="input-img-div am-u-sm-3">
                    <img class="input-name" src="assets/images/name.png">
                </div>
                <input class="input-name-text am-u-sm-6" type="text" placeholder="">
                <div class="input-name-div am-u-sm-3">
                    例：王五
                </div>
            </li>

            <li class="am-u-sm-10 am-u-sm-centered" id="sex-li">
                <div class="input-sex-div am-u-sm-5">
                    <img class="input-sex" src="assets/images/sex.png">
                </div>
                <div class="input-sex-man am-u-sm-4">

                </div>
                <div class="input-sex-woman am-u-sm-3">

                </div>
            </li>

            <li class="am-u-sm-10 am-u-sm-centered contact">
                <div class="contact-img am-u-sm-6">
                    <img src="assets/images/contact.png">
                </div>
                <input class="input-contact am-u-sm-6" type="text" placeholder="QQ或微信(非必填)">
            </li>


            <li class="am-u-sm-10 am-u-sm-centered birthday">
                <div class="contact-img am-u-sm-4">
                    <img src="assets/images/birthday.png">
                </div>
                <input class="input-date am-u-sm-8" type="date" placeholder="">
            </li>


            <li class="am-u-sm-10 am-u-sm-centered city">
                <div class="city-img am-u-sm-5">
                    <img src="assets/images/city.png">
                </div>
                <input class="input-city am-u-sm-7" type="text" placeholder="">
            </li>
            
        </ul>

        <div class="am-g" style="margin: 20px">
            <div class="am-u-sm-6 am-u-sm-push-3 generate">
            </div>
        </div>
    </div>
</div>




<!--在这里编写你的代码-->

<!--[if (gte IE 9)|!(IE)]><!-->
<script src="assets/js/jquery.min.js"></script>
<!--<![endif]-->
<!--[if lte IE 8 ]>
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/modernizr.js"></script>
<script src="assets/js/amazeui.ie8polyfill.min.js"></script>
<![endif]-->
<script src="assets/js/amazeui.min.js"></script>


<script>
    $(function() {
        var sex = '男';
        var width = $('.bg').width();
        var inputHeight = width/5*4/594*96;
        $('.input-box li').css({
            height: inputHeight + 2 + 'px',
            lineHeight: inputHeight + 'px'
        });
        $('.input-name').height(inputHeight/2 + 'px').css({
            'position':'relative'
        });

        $('.input-img-div').css({
            height: inputHeight + 'px',
            position: 'relative'
        })
        $('.input-name-text').css({
            height: inputHeight + 'px',
            textIndent: '1em',
            border: 0,
            outline: 'none'
        });
        $('.input-name-div').css({
            height: inputHeight + 'px',
            color: '#cfcfcf',
            padding: 0
        })


        $('.input-sex').height(inputHeight/2 + 'px').css({
            'position':'relative'
        });
        $('.input-sex-div').css({
            height: inputHeight + 'px',
            position: 'relative'
        });

        var sexman = $('.input-sex-man');
        var sexwomen = $('.input-sex-woman');
        sexman.css({
//            width: '25%',
            height: inputHeight + 'px',
            position: 'relative',
            paddingLeft: 0,
            cursor: 'pointer'
        })

        sexwomen.css({
//            width: '25%',
            height: inputHeight + 'px',
            position: 'relative',
            cursor: 'pointer',
            padding: 0
        });

        var sexli = $('.input-box ul li#sex-li');
        sexli.css({
            position: 'relative',
            background: 'url(assets/images/sex_women.png) no-repeat',
            backgroundSize: '100%',
            width: '80%',
            marginTop: '10px'
        })

        sexman.click(function() {
            sexli.css({
                position: 'relative',
                background: 'url(assets/images/sex_women.png) no-repeat',
                backgroundSize: '100%',
                width: '80%',
            })
            sex = '男';
        })
        sexwomen.click(function() {
            sexli.css({
                position: 'relative',
                background: 'url(assets/images/sex_man.png) no-repeat',
                backgroundSize: '100%',
                width: '80%',
            })
            sex = '女';
        })



        $('.contact img').height(inputHeight/2 + 'px').css({
            'position':'relative'
        });
        $('.input-contact').css({
            height: inputHeight + 'px',
            border: 0,
            outline: 'none',
            paddingLeft:0
        });

        $('.birthday img').height(inputHeight/2 + 'px').css({
            'position':'relative'
        });
        $('.input-contact').css({
            height: inputHeight + 'px',
            border: 0,
            outline: 'none'
        });

        $('.input-date').css({
            height: inputHeight + 'px',
            border: 0,
            cursor: 'pointer',
            outline: 'none'
        })

        $('.city img').height(inputHeight/2 + 'px').css({
            'position':'relative'
        });
        $('.input-city').css({
            height: inputHeight + 'px',
            border: 0,
            outline: 'none',
        });

        $('.generate').css({
            height: width/271*84/2 + 'px',
            lineHeight: width/271*84/2 + 'px'
        }).click(function() {
            console.log('input-name-text:' + $('.input-name-text').val() + '\n sex=' + sex
            +'input-contact:' + $('.input-contact').val() + 'shengri: '+ $('.input-date').val() +
                   'city: ' + $('.input-city').val());
            var name_i = $('.input-name-text').val();
            var sex_i = sex;
            var contact_i = $('.input-contact').val();
            var shengri_i = $('.input-date').val();
            var city_i = $('.input-city').val();
            if(name_i||contact_i||shengri_i||city_i) {
                window.location.href = '/html2canvas.html?' + 'name=' +name_i + '&sex='+sex_i + '&contact=' + contact_i
                + '&shengri=' + shengri_i + '&city='+ city_i
            }else {
                alert("用户没有输入信息");
            }
        });

        var node = document.getElementById('body-node');

        domtoimage.toPng(node)
            .then(function (dataUrl) {
                console.log('domtoimage');
                var img = new Image();
                img.src = dataUrl;
                document.body.appendChild(img);
            })
            .catch(function (error) {
                console.error('oops, something went wrong!', error);
            });
    })
</script>
</body>
</html>